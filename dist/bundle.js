(()=>{"use strict";const e=document.getElementById("a-form").querySelectorAll(".form-parts"),t=document.getElementById("step-control").querySelectorAll(".step"),n=document.getElementById("btn-control"),s=n.querySelector(".btn-outline"),r=n.querySelector(".btn-next"),c=document.querySelector(".cart-container"),l=document.querySelector(".total__price");let a=0,i=5298;n.addEventListener("click",(function(n){n.preventDefault();const c=t[a];if(n.target.matches(".btn-next")&&"下一步"===n.target.innerHTML){const n=t[a+1];c.classList.remove("initial"),c.classList.remove("active"),c.classList.add("checked"),n.classList.add("active"),e[a].classList.toggle("d-none"),e[a+1].classList.toggle("d-none"),a+=1}else if(n.target.matches(".btn-outline")&&"上一步"===n.target.innerHTML){const n=t[a-1];c.classList.add("active"),n.classList.remove("checked"),n.classList.add("initial"),e[a].classList.toggle("d-none"),e[a-1].classList.toggle("d-none"),a-=1}0===a?s.setAttribute("disabled","disabled"):s.removeAttribute("disabled"),r.innerHTML=2===a?"確認下單":"下一步"})),c.addEventListener("click",(function(e){if(e.target.matches(".minus")||e.target.matches(".plus")){const t=e.target.parentElement.children[1];let n=Number(t.innerText),s=e.target.parentElement.nextElementSibling.innerText;s=Number(s.replace(/[$,]/g,"")),e.target.matches(".plus")?(n+=1,i+=s):e.target.matches(".minus")&&1!==n&&(n-=1,i-=s,n<=0&&(n=1)),t.innerText=n,console.log(i),l.innerText="$"+new Intl.NumberFormat("en-IN").format(i)}}))})();